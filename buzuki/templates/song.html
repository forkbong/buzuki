{% extends "base.html" %}

{% block title %}
{{ song.name }} - {{ super() }}
{%- endblock %}

{% block content %}

<legend>
  <a href="{{ url_for('main.artist', slug=song.artist_slug) }}">{{ song.artist }}</a> - {{ song.name }}
  <span class=pull-right>
    <div class="btn-group">
      <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
        Transpose
        <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='D') }}">D</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='Ds') }}">D#</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='E') }}">E</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='F') }}">F</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='Fs') }}">F#</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='G') }}">G</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='Gs') }}">G#</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='A') }}">A</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='As') }}">A#</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='B') }}">B</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='C') }}">C</a></li>
        <li><a tabindex="-1" href="{{ url_for('main.song', slug=song.slug, root='Cs') }}">C#</a></li>
      </ul>
    </div>
    <a href="{{ url_for('main.songprint', slug=song.slug, semitones=semitones, root=root) }}"><span class="glyphicon glyphicon-print" aria-hidden="true"></span></a>
    {% if semitones or root %}
    <a href="{{ url_for('admin.save', slug=song.slug, semitones=semitones, root=root) }}"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span></a>
    {% endif %}
    <a href="{{ url_for('admin.edit', slug=song.slug) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
    {% if admin %}
    <a href="#" data-toggle="modal" data-target="#deleteModal"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
    <a href="{{ url_for('admin.logout') }}"><span class="glyphicon glyphicon-off" aria-hidden="true"></span></a>
    {% endif %}
  </span>
</legend>

<div class="row">
  <div class="col-md-6">
    <pre>{{ song.body }}</pre>
  </div>
  {% if song.youtube_id %}
  <div class="col-md-6">
    <div class="embed-responsive embed-responsive-16by9">
      <iframe class="embed-responsive-item"
              src="https://www.youtube.com/embed/{{ song.youtube_id }}"
              title="Video">
      </iframe>
    </div>
  </div>
  {% endif %}
</div>

{% endblock %}
